<!DOCTYPE html>
<html lang="en" id="rss">
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
		<link rel="icon" type="image/png" sizes="100x100" href="favicon.ico">
		<link rel="apple-touch-icon" type="image/png" sizes="100x100" href="favicon.ico">
		<title>CSUF ACM Webring</title>
		<script>
			// Instant redirect for prev/next navigation (runs before page renders)
			(function() {
			const sites = [
				{ id: 'lyyeric', url: 'https://lyyeric.tech' },
				{ id: 'tomasohCHOM', url: 'https://chom.vercel.app' },
				{ id: 'markgdev', url: 'https://markgarcia.dev' },
			];
				
				const params = new URLSearchParams(window.location.search);
				const from = params.get('from')?.toLowerCase();
				const dir = params.get('dir');
				
				if (from && dir) {
					const index = sites.findIndex(s => from.includes(s.id.toLowerCase()) || s.id.toLowerCase().includes(from));
					if (index >= 0) {
						let targetIndex;
						if (dir === 'prev') targetIndex = ((index - 1) + sites.length) % sites.length;
						else if (dir === 'next') targetIndex = (index + 1) % sites.length;
						else if (dir === 'random') targetIndex = Math.floor(Math.random() * sites.length);
						
						if (targetIndex !== undefined) {
							window.location.replace(sites[targetIndex].url);
						}
					}
				}
			})();
		</script>
	</head>
	<body>
		<nav id="ring-nav">
			<a href="#" id="prev">← Prev</a>
			<a href="#" id="random">Random</a>
			<a href="#" id="next">Next →</a>
		</nav>
		<ol id="icons">
			<li data-lang="en" id="lyyeric">
				<a href="https://lyyeric.tech">lyyeric.tech</a>
			</li>
			<li data-lang="en" id="tomasohCHOM">
				<a href="https://chom.vercel.app">chom.vercel.app</a>
			</li>
			<li data-lang="en" id="markgdev">
				<a href="https://markgarcia.dev">markgarcia.dev</a>
			</li>
		</ol>
		<footer>
			<p class="readme">
				A webring for CSUF ACM friends. Share your personal sites, portfolios, and projects!
			</p>
			<p>
				Want to join? <a href="https://github.com/lyeric2022/webring-1" target="_blank">Submit a pull request</a>.
			</p>
		</footer>
		<style>
			:root { --color-alpha: white; --color-beta: black; }
			body { padding: 0; margin: 0; background-color: var(--color-alpha); color: var(--color-beta); font-family: serif; max-width: 900px; }
			body a { color: var(--color-beta); text-decoration: none; }
			body a:hover { background-color: var(--color-beta); color: var(--color-alpha); }
			body a:before { content: '{'; }
			body a:after { content: '}'; }
			
			#ring-nav { margin: 30px 30px 0; padding: 15px 0; border-bottom: 2px solid var(--color-beta); display: flex; gap: 20px; }
			#ring-nav a { font-size: 1.1rem; }
			
			body > ol { margin: 30px; padding: 0px 30px 30px; display: block; border-bottom: 2px solid var(--color-beta); }
			body > ol > li { padding: 5px 0; }
			body > footer { margin: 30px; }
			body > footer > p { max-width: 600px; }
			
			@media (prefers-color-scheme: dark) {
				:root { --color-alpha: black; --color-beta: white; }
			}
		</style>
		<script>
			// Navigation buttons for the webring page itself
			(function() {
				const sites = Array.from(document.querySelectorAll('ol#icons li a'));
				let currentIndex = 0;
				
				function goTo(index) {
					currentIndex = ((index % sites.length) + sites.length) % sites.length;
					window.location.href = sites[currentIndex].href;
				}
				
				document.getElementById('prev').onclick = (e) => { e.preventDefault(); goTo(currentIndex - 1); };
				document.getElementById('next').onclick = (e) => { e.preventDefault(); goTo(currentIndex + 1); };
				document.getElementById('random').onclick = (e) => { e.preventDefault(); goTo(Math.floor(Math.random() * sites.length)); };
			})();
		</script>
	</body>
</html>
